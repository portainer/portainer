<div class="form-group">
  <div class="col-sm-12">
    <por-switch-field
      checked="$ctrl.model.RepositoryAuthentication"
      label="'Authentication'"
      label-class="'col-sm-3 col-lg-2'"
      name="'authSwitch'"
      on-change="($ctrl.onChangeAuth)"
      data-cy="'component-gitAuthToggle'"
      switch-values="{on:'Yes',off:'No'}"
    ></por-switch-field>
  </div>
</div>
<div class="small mt-1 mb-3" ng-if="$ctrl.model.RepositoryAuthentication && $ctrl.showAuthExplanation">
  <pr-icon icon="'alert-triangle'" mode="'warning'"></pr-icon>
  <span class="text-muted">Enabling authentication will store the credentials and it is advisable to use a git service account</span>
</div>
<div ng-if="$ctrl.model.RepositoryAuthentication" class="row">
  <div class="form-group">
    <label for="repository_username" class="col-lg-2 col-sm-3 control-label required text-left"> Username </label>
    <div class="col-sm-8">
      <input
        type="text"
        class="form-control"
        ng-model="$ctrl.model.RepositoryUsername"
        name="repository_username"
        placeholder="git username"
        ng-change="$ctrl.onChangeUsername($ctrl.model.RepositoryUsername)"
        data-cy="component-gitUsernameInput"
      />
    </div>
  </div>
  <div class="form-group flex">
    <label for="repository_password" class="col-lg-2 col-sm-3 control-label !pt-0 text-left">
      <div class="required"> Personal Access Token </div>
      <portainer-tooltip message="'Provide a personal access token or password'"></portainer-tooltip>
    </label>
    <div class="col-sm-8">
      <input
        type="password"
        class="form-control"
        ng-model="$ctrl.model.RepositoryPassword"
        name="repository_password"
        placeholder="*******"
        ng-change="$ctrl.onChangePassword($ctrl.model.RepositoryPassword)"
        ng-required="!$ctrl.isEdit"
        data-cy="component-gitPasswordInput"
      />
    </div>
  </div>
</div>
